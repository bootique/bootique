<!doctype html>
<html xmlns:d="http://docbook.org/ns/docbook"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Bootique Logback Documentation</title><meta name="keywords" content="Bootique Logback Documentation version 0 "><meta name="description" content="Bootique Logback: integration of Logback logging framework with Bootique - Documentation version 0"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon" sizes="57x57" href="../../../images/favicon/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="../../../images/favicon/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="../../../images/favicon/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="../../../images/favicon/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="../../../images/favicon/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="../../../images/favicon/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="../../../images/favicon/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="../../../images/favicon/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="../../../images/favicon/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" href="../../../images/favicon/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="../../../images/favicon/favicon-194x194.png" sizes="194x194"><link rel="icon" type="image/png" href="../../../images/favicon/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="../../../images/favicon/android-chrome-192x192.png" sizes="192x192"><link rel="icon" type="image/png" href="../../../images/favicon/favicon-16x16.png" sizes="16x16"><link rel="manifest" href="../../../images/favicon/manifest.json"><link rel="mask-icon" href="../../../images/favicon/safari-pinned-tab.svg" color="#5bbad5"><link rel="shortcut icon" href="../../../images/favicon/favicon.ico"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-TileImage" content="../../../images/favicon/mstile-144x144.png"><meta name="msapplication-config" content="../../../images/favicon/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="../../../styles/main.css"><script src="../../../scripts/vendor/modernizr.js"></script></head><body data-spy="scroll" data-target=".bs-docs-sidebar" data-offset="100" onload="prettyPrint()"><div id="top-nav"><a href="#menu" id="menuLink" aria-label="Menu" class="menu-link"><span></span></a><div id="menu" class="nav-menu pure-menu pure-menu-horizontal pure-menu-fixed"><a href="http://bootique.io/" class="nav-brand center"><img src="../../../images/logo.svg" alt="Bootique"></a><div class="container nav"><div class="valign-wrapper-sm"><div class="valign-sm"><ul class="pure-menu-list pull-left"><li class="pure-menu-item"><a href="http://bootique.io/docs/0/getting-started/" class="pure-menu-link">Get
                                        started
                                    </a></li><li class="pure-menu-item pure-menu-selected"><a href="http://bootique.io/docs/" class="pure-menu-link">Documentation</a></li><li class="pure-menu-item"><a href="http://groups.google.com/forum/#!forum/bootique-user" class="pure-menu-link">Forum
                                    </a></li></ul></div></div><ul class="pure-menu-list pull-right"><li class="pure-menu-item gh-btns" data-gh-owner="nhl" data-gh-repo="bootique"><a href="http://github.com/bootique/bootique" class="pure-menu-link github-btn fork"><i class="fa fa-github"></i><span>Code</span></a><a href="http://github.com/bootique/bootique/stargazers" class="pure-menu-link github-btn star"><i class="fa fa-github"></i><i class="fa fa-star"></i><span class="star-counter"></span></a></li><li class="pure-menu-item tw-btn"><a href="http://twitter.com/intent/follow?screen_name=BootiqueProject" class="pure-menu-link tw-btn"><i class="fa fa-twitter"></i><span>Follow</span></a></li></ul></div></div></div><div class="container content docbook"><div class="titlepage"><div><h1 class="title"><a name="bootique-jetty-guide"></a>Bootique Logback Documentation</h1></div><hr></div><div class="pure-g"><div class="docs-main pure-u-sm-16-24"><div class="chapter" title="Chapter&nbsp;1.&nbsp;Bootique Integration with Logback"><div class="titlepage"><div><div><h2 class="title"><a name="overview"></a>Chapter&nbsp;1.&nbsp;Bootique Integration with Logback</h2></div></div></div><p>As mentioned in Bootique <a class="link" href="http://bootique.io/docs/0/bootique-docs/index.html#logging" target="_top">general
            documentation on logging</a>, standard modules rely on SLF4J loggers that can be
        easily bridged to various  advanced logging frameworks. Same maximally neutral logging
        approach is reasonable to apply in the user modules as well.</p><p><a class="link" href="https://github.com/bootique/bootique-logback" target="_top"><code class="code">bootique-logback</code></a> is a "drag-and-drop" module integrating Bootique
        logging with <a class="link" href="http://logback.qos.ch/" target="_top">Logback logging framework</a>.
        Just like any other module, <code class="code">bootique-logback</code> can be enabled by simply adding it
        to the <code class="code">pom.xml</code> dependencies, assuming <code class="code">autoLoadModules()</code> is in
        effect:</p><pre class="programlisting">&lt;dependency&gt;
	&lt;groupId&gt;io.bootique.logback&lt;/groupId&gt;
	&lt;artifactId&gt;bootique-logback&lt;/artifactId&gt;
&lt;/dependency&gt;</pre><p>Without further configuration it would log everything to console using INFO level.
        Configuration can be provided via YAML, as shown in the following section. Configuration
        options include per class and package log levels configuration, a choice of appenders,
        etc.</p></div><div class="chapter" title="Chapter&nbsp;2.&nbsp;Configuration Reference"><div class="titlepage"><div><div><h2 class="title"><a name="configuration"></a>Chapter&nbsp;2.&nbsp;Configuration Reference</h2></div></div></div><div class="section" title="log"><div class="titlepage"><div><div><h2 class="title"><a name="d0e42"></a>log</h2></div></div></div><p>
            </p><pre class="programlisting">log:
  level: warn
  loggers:
    com.foo:
      level: debug
    com.example:
      level: debug
  appenders:
    - type: file
      logFormat: '%c{20}: %m%n'
      file: target/logback/testRun_Debug.log</pre><p>
        </p><p>"log" is a root element of the Logback configuration and is bound to a <a class="link" href="https://github.com/bootique/bootique-logback/blob/master/bootique-logback/src/main/java/io/bootique/logback/LogbackContextFactory.java" target="_top"><code class="code">LogbackContextFactory</code></a> object. It supports the following
            properties:</p><table frame="void" id="d0e56"><caption>Table&nbsp;2.1.&nbsp;"log" Element Property Reference</caption><col width="20%"><col width="15%"><col width="65%"><thead><tr>
                <th>Property</th>
                <th>Default</th>
                <th>Description</th>
            </tr></thead><tbody><tr>
                    <td><code class="code">appenders</code></td>
                    <td>console appender</td>
                    <td>A list of appenders to output logs to. See below.</td>
                </tr><tr>
                    <td><code class="code">level</code></td>
                    <td><code class="code">INFO</code></td>
                    <td>A default logging level. Can be overridden per logger.</td>
                </tr><tr>
                    <td><code class="code">loggers</code></td>
                    <td>none</td>
                    <td>A map of logger factories by logger name. Logger name is a package name
                        (applied recursively) or class name. See below.</td>
                </tr><tr>
                    <td><code class="code">useLogbackConfig</code></td>
                    <td><code class="code">false</code></td>
                    <td>If true, all other logback settings areignored and the user is expected to
                        provide its own config file per <a class="link" href="http://logback.qos.ch/manual/configuration.html" target="_top">Logback
                            documentation</a>. This is only needed for a few advanced options not
                        directly available via Bootique config. </td>
                </tr></tbody></table></div><div class="section" title="log.appenders"><div class="titlepage"><div><div><h2 class="title"><a name="d0e128"></a>log.appenders</h2></div></div></div><pre class="programlisting">log:
  appenders:
    - type: file
      logFormat: '%c{20}: %m%n'
      file: /var/log/myapp.log
    - type: console
      logFormat: '%c{20}: %m%n'</pre><p>Lists
            appenders to sends the logs to. If the list is empty, console appender is used with
            default settings. Currently available appenders are "console" and "file":</p><table frame="void" id="d0e135"><caption>Table&nbsp;2.2.&nbsp;"console" Appender Property Reference</caption><col width="20%"><col width="53%"><col width="27%"><thead><tr>
                    <th>Property</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr></thead><tbody><tr>
                    <td><code class="code">logFormat</code></td>
                    <td><code class="code">%-5p [%d{ISO8601,UTC}] %thread %c{20}: %m%n%rEx</code></td>
                    <td>A format of the log lines. See Logback <a class="link" href="http://logback.qos.ch/manual/layouts.html#ClassicPatternLayout" target="_top">PatternLayout</a> for details.</td>
                </tr><tr>
                    <td><code class="code">target</code></td>
                    <td><code class="code">stdout</code></td>
                    <td>Whether to log to standard output or standard error. Possible values are
                            <code class="code">stdout</code> and <code class="code">stderr</code></td>
                </tr></tbody></table><table frame="void" id="d0e188"><caption>Table&nbsp;2.3.&nbsp;"file" Appender Property Reference</caption><col width="20%"><col width="53%"><col width="27%"><thead><tr>
                    <th>Property</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr></thead><tbody><tr>
                    <td><code class="code">logFormat</code></td>
                    <td><code class="code">%-5p [%d{ISO8601,UTC}] %thread %c{20}: %m%n%rEx</code></td>
                    <td>A format of the log lines. See Logback <a class="link" href="http://logback.qos.ch/manual/layouts.html#ClassicPatternLayout" target="_top">PatternLayout</a> for details.</td>
                </tr><tr>
                    <td><code class="code">file</code></td>
                    <td>none</td>
                    <td>A name of a file to send the log to.</td>
                </tr><tr>
                    <td><code class="code">rollingPolicy</code></td>
                    <td>none</td>
                    <td>An object that defines a log rotation policy. Examples are given below. </td>
                </tr></tbody></table><p>There are a few ways log file rotation can be configured for the "file" appender, as
            defined by the <code class="code">rollingPolicy</code>. Out of the box the following Logback policies
            are supported: <a class="link" href="http://logback.qos.ch/manual/appenders.html#FixedWindowRollingPolicy" target="_top"><code class="code">fixedWindow</code></a>, <a class="link" href="http://logback.qos.ch/manual/appenders.html#TimeBasedRollingPolicy" target="_top"><code class="code">time</code></a>, <code class="code">sizeAndTime</code>.</p><div class="section" title="&#34;fixedWindow&#34; Rolling Policy"><div class="titlepage"><div><div><h3 class="title"><a name="d0e264"></a>"fixedWindow" Rolling Policy</h3></div></div></div><pre class="programlisting">log:
  appenders:
    - type: file
      logFormat: '%c{20}: %m%n'
      file: /var/log/myapp.log
      rollingPolicy:
        type: fixedWindow
        fileNamePattern: '/var/log/myapp-%i.log'
        historySize: 5
        fileSize: 20</pre><p>"fixedWindow"
                policy rotates the main log file when it reaches a certain size, keeping one or more
                rotated files.</p><table frame="void" id="d0e271"><caption>Table&nbsp;2.4.&nbsp;"fixedWindow" rolling policy Property Reference</caption><col width="20%"><col width="53%"><col width="27%"><thead><tr>
                            <th>Property</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr></thead><tbody><tr>
                            <td><code class="code">fileNamePattern</code></td>
                            <td>none</td>
                            <td>A pattern of rotated file name. Must contain <code class="code">%i</code>
                                somewhere in the pattern (replaced by a number during
                                rotation).</td>
                        </tr><tr>
                            <td><code class="code">historySize</code></td>
                            <td>none (unlimited)</td>
                            <td>A max number of rotated files to keep.</td>
                        </tr><tr>
                            <td><code class="code">fileSize</code></td>
                            <td>none</td>
                            <td>Max file size that causes rotation. Expressed in bytes, kilobytes,
                                megabytes or gigabytes by suffixing a numeric value with KB, MB and
                                respectively GB. For example: 5000000, 5000KB, 5MB and 2GB.</td>
                        </tr></tbody></table></div><div class="section" title="&#34;time&#34; Rolling Policy"><div class="titlepage"><div><div><h3 class="title"><a name="d0e329"></a>"time" Rolling Policy</h3></div></div></div><pre class="programlisting">log:
  appenders:
    - type: file
      logFormat: '%c{20}: %m%n'
      file: /var/log/myapp.log
      rollingPolicy:
        type: time
        fileNamePattern: '/var/log/myapp-%d{yyyyMMDDHHmmss}.log'</pre><p>"time"
                policy rotates the main log file at a fixed time interval determined by the file
                name pattern.</p><table frame="void" id="d0e336"><caption>Table&nbsp;2.5.&nbsp;"time" rolling policy Property Reference</caption><col width="20%"><col width="53%"><col width="27%"><thead><tr>
                            <th>Property</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr></thead><tbody><tr>
                            <td><code class="code">fileNamePattern</code></td>
                            <td>none</td>
                            <td>A pattern of rotated file name. Its value should consist of the name
                                of the file, plus a suitably placed %d conversion specifier. The %d
                                conversion specifier may contain a date-and-time pattern as
                                specified by the <code class="code">java.text.SimpleDateFormat</code> class. If
                                the date-and-time pattern is omitted, then the default pattern
                                    <code class="code">yyyy-MM-dd</code>is assumed. The rollover interval is
                                inferred from the value of the pattern.</td>
                        </tr><tr>
                            <td><code class="code">historySize</code></td>
                            <td>none (unlimited)</td>
                            <td>A max number of rotated files to keep.</td>
                        </tr><tr>
                            <td><code class="code">totalSize</code></td>
                            <td>none</td>
                            <td>Max size of all log files combined. Expressed in bytes, kilobytes,
                                megabytes or gigabytes by suffixing a numeric value with KB, MB and
                                respectively GB. For example: 5000000, 5000KB, 5MB and 2GB.</td>
                        </tr></tbody></table></div><div class="section" title="&#34;sizeAndTime&#34; Rolling Policy"><div class="titlepage"><div><div><h3 class="title"><a name="d0e397"></a>"sizeAndTime" Rolling Policy</h3></div></div></div><pre class="programlisting">log:
  appenders:
    - type: file
      logFormat: '%c{20}: %m%n'
      file: /var/log/myapp.log
      rollingPolicy:
        type: sizeAndTime
        fileNamePattern: '/var/log/myapp-%d{yyyyMMDDHHmmss}.%i.log'
        historySize: 5
        fileSize: 50
        totalSize: 150</pre><p>"sizeAndTime"
                policy rotates the main log file either at a fixed time interval determined by the
                file name pattern or when the log file reaches a certain size.</p><table frame="void" id="d0e404"><caption>Table&nbsp;2.6.&nbsp;"sizeAndTime" rolling policy Property Reference</caption><col width="20%"><col width="53%"><col width="27%"><thead><tr>
                            <th>Property</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr></thead><tbody><tr>
                            <td><code class="code">fileNamePattern</code></td>
                            <td>none</td>
                            <td>A pattern of rotated file name. Its value should consist of the name
                                of the file, plus a suitably placed %d conversion specifier. The %d
                                conversion specifier may contain a date-and-time pattern as
                                specified by the <code class="code">java.text.SimpleDateFormat</code> class. If
                                the date-and-time pattern is omitted, then the default pattern
                                    <code class="code">yyyy-MM-dd</code>is assumed. The rollover interval is
                                inferred from the value of the pattern.</td>
                        </tr><tr>
                            <td><code class="code">historySize</code></td>
                            <td>none (unlimited)</td>
                            <td>A max number of rotated files to keep.</td>
                        </tr><tr>
                            <td><code class="code">totalSize</code></td>
                            <td>none</td>
                            <td>Max size of all log files combined. Expressed in bytes, kilobytes,
                                megabytes or gigabytes by suffixing a numeric value with KB, MB and
                                respectively GB. For example: 5000000, 5000KB, 5MB and 2GB.</td>
                        </tr><tr>
                            <td><code class="code">fileSize</code></td>
                            <td>none</td>
                            <td>Max file size that causes rotation. Expressed in bytes, kilobytes,
                                megabytes or gigabytes by suffixing a numeric value with KB, MB and
                                respectively GB. For example: 5000000, 5000KB, 5MB and 2GB.</td>
                        </tr></tbody></table></div></div><div class="section" title="log.loggers"><div class="titlepage"><div><div><h2 class="title"><a name="d0e477"></a>log.loggers</h2></div></div></div><pre class="programlisting">log:
  loggers:
    com.foo:
      level: debug
    com.example:
      level: debug</pre><p>This
            is a map of <a class="link" href="https://github.com/bootique/bootique-logback/blob/master/bootique-logback/src/main/java/io/bootique/logback/LoggerFactory.java" target="_top">logger factories</a> by logger name. Logger name is either a package name
            (applied recursively to subpackages and their classes) or a class name. Each
            LoggerFactory has the following properties:</p><table frame="void" id="d0e487"><caption>Table&nbsp;2.7.&nbsp;Logger Property Reference</caption><col width="20%"><col width="53%"><col width="27%"><thead><tr>
                    <th>Property</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr></thead><tbody><tr>
                    <td><code class="code">level</code></td>
                    <td><code class="code">INFO</code></td>
                    <td>Log level for a particular logger. Can be OFF, ERROR, WARN, INFO, DEBUG,
                        TRACE, ALL</td>
                </tr></tbody></table></div></div></div><div class="docs-side offset-sm-1-12 pure-u-sm-6-24"><nav class="bs-docs-sidebar"><h2 class="toc-title">Table of Contents</h2><ul class="nav bs-docs-sidenav"><li><span class="chapter"><a href="#overview">1. Bootique Integration with Logback</a></span></li><li><span class="chapter"><a href="#configuration">2. Configuration Reference</a></span><ul><li><span class="section"><a href="#d0e42">log</a></span></li><li><span class="section"><a href="#d0e128">log.appenders</a></span></li><li><span class="section"><a href="#d0e477">log.loggers</a></span></li></ul></li></ul></nav></div></div></div><p class="footer-p">&copy; <span class="current-year">2016</span> NHL, ObjectStyle and individual authors
        </p><script src="../../../scripts/vendor.js"></script><script src="../../../scripts/main.js"></script><script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-73654436-1', 'auto');
            ga('send', 'pageview');
        </script></body></html>