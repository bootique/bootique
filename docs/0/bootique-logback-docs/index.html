<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title xmlns:d="http://docbook.org/ns/docbook">Bootique Logback Documentation</title><link rel="stylesheet" type="text/css" href="css/doc.css"><meta xmlns:d="http://docbook.org/ns/docbook" name="keywords" content="Bootique Logback Documentation version 0 "><meta xmlns:d="http://docbook.org/ns/docbook" name="description" content="Bootique Logback: integration of Logback logging framework with Bootique - Documentation version 0"><script xmlns:d="http://docbook.org/ns/docbook" type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-73654436-1', 'auto');
  ga('send', 'pageview');
        </script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" title="Bootique Logback Documentation"><div class="titlepage"><div><div><h1 class="title"><a name="bootique-jetty-guide"></a>Bootique Logback Documentation</h1></div><div><p class="copyright">Copyright &copy; 2016 National Hockey League, ObjectStyle LLC and individual authors</p></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#overview">1. Bootique Integration with Logback</a></span></dt><dt><span class="chapter"><a href="#configuration">2. Configuration Reference</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e42">log</a></span></dt><dt><span class="section"><a href="#d0e128">log.appenders</a></span></dt><dt><span class="section"><a href="#d0e291">log.loggers</a></span></dt></dl></dd></dl></div><div class="list-of-tables"><p><b>List of Tables</b></p><dl><dt>2.1. <a href="#d0e56">"log" Element Property Reference</a></dt><dt>2.2. <a href="#d0e135">"console" Appender Property Reference</a></dt><dt>2.3. <a href="#d0e170">"file" Appender Property Reference</a></dt><dt>2.4. <a href="#d0e301">Logger Property Reference</a></dt></dl></div><div class="chapter" title="Chapter&nbsp;1.&nbsp;Bootique Integration with Logback"><div class="titlepage"><div><div><h2 class="title"><a name="overview"></a>Chapter&nbsp;1.&nbsp;Bootique Integration with Logback</h2></div></div></div><p>As mentioned in Bootique <a class="link" href="http://bootique.io/docs/0/bootique-docs/index.html#logging" target="_top">general
            documentation on logging</a>, standard modules rely on SLF4J loggers that can be
        easily bridged to various  advanced logging frameworks. Same maximally neutral logging
        approach is reasonable to apply in the user modules as well.</p><p><a class="link" href="https://github.com/nhl/bootique-logback" target="_top"><code class="code">bootique-logback</code></a> is a "drag-and-drop" module integrating Bootique
        logging with <a class="link" href="http://logback.qos.ch/" target="_top">Logback logging framework</a>.
        Just like any other module, <code class="code">bootique-logback</code> can be enabled by simply adding it
        to the <code class="code">pom.xml</code> dependencies, assuming <code class="code">autoLoadModules()</code> is in
        effect:</p><pre class="programlisting"><span xmlns="http://www.w3.org/1999/xhtml" class="hl-tag">&lt;dependency&gt;</span>
	<span xmlns="http://www.w3.org/1999/xhtml" class="hl-tag">&lt;groupId&gt;</span>com.nhl.bootique.logback<span xmlns="http://www.w3.org/1999/xhtml" class="hl-tag">&lt;/groupId&gt;</span>
	<span xmlns="http://www.w3.org/1999/xhtml" class="hl-tag">&lt;artifactId&gt;</span>bootique-logback<span xmlns="http://www.w3.org/1999/xhtml" class="hl-tag">&lt;/artifactId&gt;</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="hl-tag">&lt;/dependency&gt;</span></pre><p>Without further configuration it would log everything to console using INFO level.
        Configuration can be provided via YAML, as shown in the following section. Configuration
        options include per class and package log levels configuration, a choice of appenders,
        etc.</p></div><div class="chapter" title="Chapter&nbsp;2.&nbsp;Configuration Reference"><div class="titlepage"><div><div><h2 class="title"><a name="configuration"></a>Chapter&nbsp;2.&nbsp;Configuration Reference</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#d0e42">log</a></span></dt><dt><span class="section"><a href="#d0e128">log.appenders</a></span></dt><dt><span class="section"><a href="#d0e291">log.loggers</a></span></dt></dl></div><div class="section" title="log"><div class="titlepage"><div><div><h2 class="title"><a name="d0e42"></a>log</h2></div></div></div><p>
            </p><pre class="programlisting">log:
  level: warn
  loggers:
    com.foo:
      level: debug
    com.example:
      level: debug
  appenders:
    - type: file
      logFormat: <span xmlns="http://www.w3.org/1999/xhtml" class="hl-string">'%c{20}: %m%n'</span>
      file: target/logback/testRun_Debug.log</pre><p>
        </p><p>"log" is a root element of the Logback configuration and is bound to a <a class="link" href="https://github.com/nhl/bootique-logback/blob/master/bootique-logback/src/main/java/com/nhl/bootique/logback/LogbackContextFactory.java" target="_top"><code class="code">LogbackContextFactory</code></a> object. It supports the following
            properties:</p><table frame="void" id="d0e56"><caption>Table&nbsp;2.1.&nbsp;"log" Element Property Reference</caption><col width="20%"><col width="15%"><col width="65%"><thead><tr>
                <th>Property</th>
                <th>Default</th>
                <th>Description</th>
            </tr></thead><tbody><tr>
                    <td><code class="code">appenders</code></td>
                    <td>console appender</td>
                    <td>A list of appenders to output logs to. See below.</td>
                </tr><tr>
                    <td><code class="code">level</code></td>
                    <td><code class="code">INFO</code></td>
                    <td>A default logging level. Can be overridden per logger.</td>
                </tr><tr>
                    <td><code class="code">loggers</code></td>
                    <td>none</td>
                    <td>A map of logger factories by logger name. Logger name is a package name
                        (applied recursively) or class name. See below.</td>
                </tr><tr>
                    <td><code class="code">useLogbackConfig</code></td>
                    <td><code class="code">false</code></td>
                    <td>If true, all other logback settings areignored and the user is expected to
                        provide its own config file per <a class="link" href="http://logback.qos.ch/manual/configuration.html" target="_top">Logback
                            documentation</a>. This is only needed for a few advanced options not
                        directly available via Bootique config. </td>
                </tr></tbody></table></div><div class="section" title="log.appenders"><div class="titlepage"><div><div><h2 class="title"><a name="d0e128"></a>log.appenders</h2></div></div></div><pre class="programlisting">log:
  appenders:
    - type: file
      logFormat: <span xmlns="http://www.w3.org/1999/xhtml" class="hl-string">'%c{20}: %m%n'</span>
      file: target/logback/testRun_Debug.log
    - type: console
      logFormat: <span xmlns="http://www.w3.org/1999/xhtml" class="hl-string">'%c{20}: %m%n'</span></pre><p>Lists
            appenders to sends the logs to. If the list is empty, console appender is used with
            default settings. Currently available appenders are "console" and "file":</p><table frame="void" id="d0e135"><caption>Table&nbsp;2.2.&nbsp;"console" Appender Property Reference</caption><col width="20%"><col width="53%"><col width="27%"><thead><tr>
                    <th>Property</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr></thead><tbody><tr>
                    <td><code class="code">logFormat</code></td>
                    <td><code class="code">%-5p [%d{ISO8601,UTC}] %thread %c{20}: %m%n%rEx</code></td>
                    <td>A format of the log lines. See Logback <a class="link" href="http://logback.qos.ch/manual/layouts.html#ClassicPatternLayout" target="_top">PatternLayout</a> for details.</td>
                </tr></tbody></table><table frame="void" id="d0e170"><caption>Table&nbsp;2.3.&nbsp;"file" Appender Property Reference</caption><col width="20%"><col width="53%"><col width="27%"><thead><tr>
                    <th>Property</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr></thead><tbody><tr>
                    <td><code class="code">logFormat</code></td>
                    <td><code class="code">%-5p [%d{ISO8601,UTC}] %thread %c{20}: %m%n%rEx</code></td>
                    <td>A format of the log lines. See Logback <a class="link" href="http://logback.qos.ch/manual/layouts.html#ClassicPatternLayout" target="_top">PatternLayout</a> for details.</td>
                </tr><tr>
                    <td><code class="code">file</code></td>
                    <td>none</td>
                    <td>A filename or a filename pattern for the log file. If <code class="code">"rotate"</code>
                        is true, the filename can be a pattern per <a class="link" href="http://logback.qos.ch/manual/appenders.html#RollingFileAppender" target="_top">Logback documentation</a> that determines time-based rotation
                        interval. Additional settings allow to also cap individual and total files
                        sizes and how many total log files can be kept.</td>
                </tr><tr>
                    <td><code class="code">maxFiles</code></td>
                    <td><code class="code">0</code></td>
                    <td>A maximum number of log archive files to keep. Older files in excess of this
                        number will be deleted. Ignored if <code class="code">"rotate"</code> is false.</td>
                </tr><tr>
                    <td><code class="code">maxFileSize</code></td>
                    <td>unlimited</td>
                    <td>A maximum size of a single log file. Exceeding this size causes file
                        rotation. This option is ignored if <code class="code">"rotate"</code> is false. The size
                        can be expressed in bytes, kilobytes, megabytes or gigabytes by suffixing a
                        numeric value with KB, MB and respectively GB. For example: 5000000, 5000KB,
                        5MB and 2GB.</td>
                </tr><tr>
                    <td><code class="code">maxTotalFileSize</code></td>
                    <td>unlimited</td>
                    <td>A maximum size of all log files combined. Equivalent to Logback
                        'totalSizeCap' property. Ignored if <code class="code">"rotate"</code> is false or
                            <code class="code">"maxFiles"</code> is zero. The size can be expressed in bytes,
                        kilobytes, megabytes or gigabytes by suffixing a numeric value with KB, MB
                        and respectively GB. For example: 5000000, 5000KB, 5MB and 2GB.</td>
                </tr><tr>
                    <td><code class="code">rotate</code></td>
                    <td><code class="code">false</code></td>
                    <td>Enables or disables file rotation. By default rotation is disabled. If
                        "true", time-based rotation is enabled. Rotation interval is derived from
                        the file name pattern (you will need to turn <code class="code">file</code> into a
                        pattern). Additionally you can add size-based rotation using
                            <code class="code">maxFileSize</code> property.</td>
                </tr></tbody></table></div><div class="section" title="log.loggers"><div class="titlepage"><div><div><h2 class="title"><a name="d0e291"></a>log.loggers</h2></div></div></div><pre class="programlisting">log:
  loggers:
    com.foo:
      level: debug
    com.example:
      level: debug</pre><p>This
            is a map of <a class="link" href="https://github.com/nhl/bootique-logback/blob/master/bootique-logback/src/main/java/com/nhl/bootique/logback/LoggerFactory.java" target="_top">logger factories</a> by logger name. Logger name is either a package name
            (applied recursively to subpackages and their classes) or a class name. Each
            LoggerFactory has the following properties:</p><table frame="void" id="d0e301"><caption>Table&nbsp;2.4.&nbsp;Logger Property Reference</caption><col width="20%"><col width="53%"><col width="27%"><thead><tr>
                    <th>Property</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr></thead><tbody><tr>
                    <td><code class="code">level</code></td>
                    <td><code class="code">INFO</code> (actually by default the level is inherited from the
                        parent log context configuration) </td>
                    <td>Log level for a particular logger. Can be OFF, ERROR, WARN, INFO, DEBUG,
                        TRACE, ALL</td>
                </tr></tbody></table></div></div></div></body></html>